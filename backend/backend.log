INFO:     Will watch for changes in these directories: ['/Users/lishanshan/projects/quantinfo_collect/backend']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [94240] using StatReload
INFO:     Started server process [94254]
INFO:     Waiting for application startup.
INFO:main:Starting up...
INFO:app.core.init_db:Initializing database...
2025-07-20 19:21:26,182 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:21:26,182 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("stocks")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("stocks")
2025-07-20 19:21:26,182 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:21:26,183 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("stock_prices")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("stock_prices")
2025-07-20 19:21:26,183 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:21:26,183 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("technical_indicators")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("technical_indicators")
2025-07-20 19:21:26,183 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:21:26,183 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("users")
2025-07-20 19:21:26,183 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:21:26,183 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("watchlists")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("watchlists")
2025-07-20 19:21:26,183 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:21:26,183 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("watchlist_stocks")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("watchlist_stocks")
2025-07-20 19:21:26,184 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:21:26,184 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("alerts")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("alerts")
2025-07-20 19:21:26,184 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:21:26,184 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("companies")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("companies")
2025-07-20 19:21:26,184 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:21:26,184 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("financial_metrics")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("financial_metrics")
2025-07-20 19:21:26,184 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:21:26,184 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("market_position")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("market_position")
2025-07-20 19:21:26,184 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:21:26,185 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("corporate_actions")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("corporate_actions")
2025-07-20 19:21:26,185 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:21:26,185 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("esg_metrics")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("esg_metrics")
2025-07-20 19:21:26,185 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:21:26,185 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("analyst_ratings")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("analyst_ratings")
2025-07-20 19:21:26,185 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:21:26,185 INFO sqlalchemy.engine.Engine COMMIT
INFO:sqlalchemy.engine.Engine:COMMIT
INFO:app.core.init_db:Database tables created successfully
2025-07-20 19:21:26,186 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:21:26,197 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.is_superuser = 1
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.is_superuser = 1
2025-07-20 19:21:26,197 INFO sqlalchemy.engine.Engine [generated in 0.00008s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00008s] ()
2025-07-20 19:21:26,198 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.symbol = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.symbol = ?
2025-07-20 19:21:26,198 INFO sqlalchemy.engine.Engine [generated in 0.00006s] ('AAPL',)
INFO:sqlalchemy.engine.Engine:[generated in 0.00006s] ('AAPL',)
2025-07-20 19:21:26,198 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.symbol = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.symbol = ?
2025-07-20 19:21:26,198 INFO sqlalchemy.engine.Engine [cached since 0.0005942s ago] ('GOOGL',)
INFO:sqlalchemy.engine.Engine:[cached since 0.0005942s ago] ('GOOGL',)
2025-07-20 19:21:26,199 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.symbol = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.symbol = ?
2025-07-20 19:21:26,199 INFO sqlalchemy.engine.Engine [cached since 0.001003s ago] ('MSFT',)
INFO:sqlalchemy.engine.Engine:[cached since 0.001003s ago] ('MSFT',)
2025-07-20 19:21:26,199 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.symbol = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.symbol = ?
2025-07-20 19:21:26,199 INFO sqlalchemy.engine.Engine [cached since 0.001424s ago] ('TSLA',)
INFO:sqlalchemy.engine.Engine:[cached since 0.001424s ago] ('TSLA',)
2025-07-20 19:21:26,200 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.symbol = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.symbol = ?
2025-07-20 19:21:26,200 INFO sqlalchemy.engine.Engine [cached since 0.001767s ago] ('AMZN',)
INFO:sqlalchemy.engine.Engine:[cached since 0.001767s ago] ('AMZN',)
2025-07-20 19:21:26,200 INFO sqlalchemy.engine.Engine COMMIT
INFO:sqlalchemy.engine.Engine:COMMIT
INFO:app.core.init_db:Initial data creation completed
INFO:app.core.init_db:Initial data created successfully
INFO:app.services.scheduler_service:Starting scheduler service
INFO:app.services.scheduler_service:All scheduler tasks started
INFO:main:Application startup completed
INFO:app.services.scheduler_service:Daily update task started
INFO:app.services.scheduler_service:Daily update scheduled for 2025-07-21 02:00:00, waiting 23914 seconds
INFO:app.services.scheduler_service:Realtime update task started
INFO:app.services.scheduler_service:Technical indicators task started
INFO:app.services.scheduler_service:Technical indicators calculation scheduled for 2025-07-21 18:00:00
INFO:     Application startup complete.
2025-07-20 19:21:51,846 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:21:51,846 INFO sqlalchemy.engine.Engine SELECT COUNT(*) FROM stocks
INFO:sqlalchemy.engine.Engine:SELECT COUNT(*) FROM stocks
2025-07-20 19:21:51,846 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00010s] ()
2025-07-20 19:21:51,847 INFO sqlalchemy.engine.Engine SELECT COUNT(*) FROM stock_prices
INFO:sqlalchemy.engine.Engine:SELECT COUNT(*) FROM stock_prices
2025-07-20 19:21:51,847 INFO sqlalchemy.engine.Engine [generated in 0.00011s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00011s] ()
2025-07-20 19:21:51,847 INFO sqlalchemy.engine.Engine 
            SELECT MAX(sp.date) as latest_date,
                   COUNT(DISTINCT s.symbol) as active_stocks
            FROM stocks s 
            INNER JOIN stock_prices sp ON s.id = sp.stock_id
            WHERE s.symbol IN ('AAPL','MSFT','NVDA','META','NFLX','PYPL','INTC','CSCO','ADBE','QCOM')
        
INFO:sqlalchemy.engine.Engine:
            SELECT MAX(sp.date) as latest_date,
                   COUNT(DISTINCT s.symbol) as active_stocks
            FROM stocks s 
            INNER JOIN stock_prices sp ON s.id = sp.stock_id
            WHERE s.symbol IN ('AAPL','MSFT','NVDA','META','NFLX','PYPL','INTC','CSCO','ADBE','QCOM')
        
2025-07-20 19:21:51,847 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00007s] ()
2025-07-20 19:21:51,848 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50239 - "GET /api/v1/rankings/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50490 - "OPTIONS /api/v1/stocks/?limit=20 HTTP/1.1" 400 Bad Request
INFO:     127.0.0.1:50491 - "OPTIONS /api/v1/stocks/?limit=20 HTTP/1.1" 400 Bad Request
WARNING:  StatReload detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:main:Shutting down...
INFO:app.services.scheduler_service:Stopping scheduler service
INFO:app.services.scheduler_service:Daily update task cancelled
INFO:app.services.scheduler_service:Realtime update task cancelled
INFO:app.services.scheduler_service:Technical indicators task cancelled
INFO:app.services.scheduler_service:Scheduler service stopped
INFO:main:Application shutdown completed
INFO:     Application shutdown complete.
INFO:     Finished server process [94254]
INFO:     Started server process [94498]
INFO:     Waiting for application startup.
INFO:main:Starting up...
INFO:app.core.init_db:Initializing database...
2025-07-20 19:22:47,342 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:22:47,342 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("stocks")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("stocks")
2025-07-20 19:22:47,342 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:22:47,343 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("stock_prices")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("stock_prices")
2025-07-20 19:22:47,343 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:22:47,343 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("technical_indicators")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("technical_indicators")
2025-07-20 19:22:47,343 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:22:47,343 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("users")
2025-07-20 19:22:47,343 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:22:47,343 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("watchlists")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("watchlists")
2025-07-20 19:22:47,343 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:22:47,344 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("watchlist_stocks")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("watchlist_stocks")
2025-07-20 19:22:47,344 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:22:47,344 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("alerts")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("alerts")
2025-07-20 19:22:47,344 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:22:47,344 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("companies")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("companies")
2025-07-20 19:22:47,344 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:22:47,344 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("financial_metrics")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("financial_metrics")
2025-07-20 19:22:47,344 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:22:47,344 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("market_position")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("market_position")
2025-07-20 19:22:47,344 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:22:47,345 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("corporate_actions")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("corporate_actions")
2025-07-20 19:22:47,345 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:22:47,345 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("esg_metrics")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("esg_metrics")
2025-07-20 19:22:47,345 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:22:47,345 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("analyst_ratings")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("analyst_ratings")
2025-07-20 19:22:47,345 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-07-20 19:22:47,345 INFO sqlalchemy.engine.Engine COMMIT
INFO:sqlalchemy.engine.Engine:COMMIT
INFO:app.core.init_db:Database tables created successfully
2025-07-20 19:22:47,346 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:22:47,358 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.is_superuser = 1
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.is_superuser = 1
2025-07-20 19:22:47,358 INFO sqlalchemy.engine.Engine [generated in 0.00011s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00011s] ()
2025-07-20 19:22:47,359 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.symbol = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.symbol = ?
2025-07-20 19:22:47,359 INFO sqlalchemy.engine.Engine [generated in 0.00009s] ('AAPL',)
INFO:sqlalchemy.engine.Engine:[generated in 0.00009s] ('AAPL',)
2025-07-20 19:22:47,360 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.symbol = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.symbol = ?
2025-07-20 19:22:47,360 INFO sqlalchemy.engine.Engine [cached since 0.0006202s ago] ('GOOGL',)
INFO:sqlalchemy.engine.Engine:[cached since 0.0006202s ago] ('GOOGL',)
2025-07-20 19:22:47,360 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.symbol = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.symbol = ?
2025-07-20 19:22:47,360 INFO sqlalchemy.engine.Engine [cached since 0.001031s ago] ('MSFT',)
INFO:sqlalchemy.engine.Engine:[cached since 0.001031s ago] ('MSFT',)
2025-07-20 19:22:47,361 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.symbol = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.symbol = ?
2025-07-20 19:22:47,361 INFO sqlalchemy.engine.Engine [cached since 0.001453s ago] ('TSLA',)
INFO:sqlalchemy.engine.Engine:[cached since 0.001453s ago] ('TSLA',)
2025-07-20 19:22:47,361 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.symbol = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.symbol = ?
2025-07-20 19:22:47,361 INFO sqlalchemy.engine.Engine [cached since 0.001809s ago] ('AMZN',)
INFO:sqlalchemy.engine.Engine:[cached since 0.001809s ago] ('AMZN',)
2025-07-20 19:22:47,361 INFO sqlalchemy.engine.Engine COMMIT
INFO:sqlalchemy.engine.Engine:COMMIT
INFO:app.core.init_db:Initial data creation completed
INFO:app.core.init_db:Initial data created successfully
INFO:app.services.scheduler_service:Starting scheduler service
INFO:app.services.scheduler_service:All scheduler tasks started
INFO:main:Application startup completed
INFO:app.services.scheduler_service:Daily update task started
INFO:app.services.scheduler_service:Daily update scheduled for 2025-07-21 02:00:00, waiting 23833 seconds
INFO:app.services.scheduler_service:Realtime update task started
INFO:app.services.scheduler_service:Technical indicators task started
INFO:app.services.scheduler_service:Technical indicators calculation scheduled for 2025-07-21 18:00:00
INFO:     Application startup complete.
INFO:     127.0.0.1:51337 - "OPTIONS /api/v1/stocks/?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51338 - "OPTIONS /api/v1/stocks/?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51337 - "GET /api/v1/stocks/?limit=20 HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:51338 - "GET /api/v1/stocks/?limit=20 HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:51524 - "OPTIONS /api/v1/auth/login HTTP/1.1" 200 OK
2025-07-20 19:36:11,802 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:11,803 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.username = ? OR users.email = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.username = ? OR users.email = ?
2025-07-20 19:36:11,804 INFO sqlalchemy.engine.Engine [generated in 0.00025s] ('admin', 'admin')
INFO:sqlalchemy.engine.Engine:[generated in 0.00025s] ('admin', 'admin')
WARNING:passlib.handlers.bcrypt:(trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/opt/miniconda3/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-20 19:36:12,075 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51526 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:51542 - "OPTIONS /api/v1/stocks/?limit=100 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51543 - "OPTIONS /api/v1/stocks/?limit=100 HTTP/1.1" 200 OK
2025-07-20 19:36:20,118 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:20,119 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:20,119 INFO sqlalchemy.engine.Engine [generated in 0.00016s] (1,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00016s] (1,)
2025-07-20 19:36:20,121 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stocks 
WHERE stocks.is_active = 1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stocks 
WHERE stocks.is_active = 1
2025-07-20 19:36:20,121 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00010s] ()
2025-07-20 19:36:20,123 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.is_active = 1 ORDER BY stocks.symbol
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.is_active = 1 ORDER BY stocks.symbol
 LIMIT ? OFFSET ?
2025-07-20 19:36:20,123 INFO sqlalchemy.engine.Engine [generated in 0.00009s] (100, 0)
INFO:sqlalchemy.engine.Engine:[generated in 0.00009s] (100, 0)
2025-07-20 19:36:20,124 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51542 - "GET /api/v1/stocks/?limit=100 HTTP/1.1" 200 OK
2025-07-20 19:36:20,126 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:20,126 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:20,126 INFO sqlalchemy.engine.Engine [cached since 0.007853s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 0.007853s ago] (1,)
2025-07-20 19:36:20,127 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stocks 
WHERE stocks.is_active = 1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stocks 
WHERE stocks.is_active = 1
2025-07-20 19:36:20,127 INFO sqlalchemy.engine.Engine [cached since 0.005547s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.005547s ago] ()
2025-07-20 19:36:20,127 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.is_active = 1 ORDER BY stocks.symbol
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.is_active = 1 ORDER BY stocks.symbol
 LIMIT ? OFFSET ?
2025-07-20 19:36:20,127 INFO sqlalchemy.engine.Engine [cached since 0.004461s ago] (100, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.004461s ago] (100, 0)
2025-07-20 19:36:20,128 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51542 - "GET /api/v1/stocks/?limit=100 HTTP/1.1" 200 OK
2025-07-20 19:36:21,571 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,571 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,571 INFO sqlalchemy.engine.Engine [cached since 1.453s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.453s ago] (1,)
2025-07-20 19:36:21,572 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stocks 
WHERE stocks.is_active = 1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stocks 
WHERE stocks.is_active = 1
2025-07-20 19:36:21,572 INFO sqlalchemy.engine.Engine [cached since 1.451s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.451s ago] ()
2025-07-20 19:36:21,573 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.is_active = 1 ORDER BY stocks.symbol
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.is_active = 1 ORDER BY stocks.symbol
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,573 INFO sqlalchemy.engine.Engine [cached since 1.45s ago] (100, 0)
INFO:sqlalchemy.engine.Engine:[cached since 1.45s ago] (100, 0)
2025-07-20 19:36:21,574 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51542 - "GET /api/v1/stocks/?limit=100 HTTP/1.1" 200 OK
2025-07-20 19:36:21,577 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,578 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,578 INFO sqlalchemy.engine.Engine [cached since 1.459s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.459s ago] (1,)
INFO:     127.0.0.1:51543 - "OPTIONS /api/v1/stocks/1 HTTP/1.1" 200 OK
2025-07-20 19:36:21,580 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stocks 
WHERE stocks.is_active = 1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stocks 
WHERE stocks.is_active = 1
2025-07-20 19:36:21,580 INFO sqlalchemy.engine.Engine [cached since 1.459s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.459s ago] ()
2025-07-20 19:36:21,581 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.is_active = 1 ORDER BY stocks.symbol
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.is_active = 1 ORDER BY stocks.symbol
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,581 INFO sqlalchemy.engine.Engine [cached since 1.458s ago] (100, 0)
INFO:sqlalchemy.engine.Engine:[cached since 1.458s ago] (100, 0)
2025-07-20 19:36:21,581 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,582 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,582 INFO sqlalchemy.engine.Engine [cached since 1.463s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.463s ago] (1,)
2025-07-20 19:36:21,582 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,583 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,583 INFO sqlalchemy.engine.Engine [generated in 0.00007s] (1,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00007s] (1,)
INFO:     127.0.0.1:51542 - "GET /api/v1/stocks/?limit=100 HTTP/1.1" 200 OK
2025-07-20 19:36:21,586 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,586 INFO sqlalchemy.engine.Engine [generated in 0.00008s] (1, 1, 0)
INFO:sqlalchemy.engine.Engine:[generated in 0.00008s] (1, 1, 0)
2025-07-20 19:36:21,589 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,589 INFO sqlalchemy.engine.Engine [generated in 0.00010s] (1, '2025-07-17 00:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[generated in 0.00010s] (1, '2025-07-17 00:00:00.000000', 1, 0)
2025-07-20 19:36:21,590 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51545 - "GET /api/v1/stocks/1 HTTP/1.1" 200 OK
2025-07-20 19:36:21,591 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,591 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,591 INFO sqlalchemy.engine.Engine [cached since 1.473s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.473s ago] (1,)
INFO:     127.0.0.1:51542 - "OPTIONS /api/v1/stocks/1/prices?limit=20 HTTP/1.1" 200 OK
2025-07-20 19:36:21,592 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,592 INFO sqlalchemy.engine.Engine [cached since 0.009013s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 0.009013s ago] (1,)
2025-07-20 19:36:21,593 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,593 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,593 INFO sqlalchemy.engine.Engine [cached since 1.474s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.474s ago] (1,)
2025-07-20 19:36:21,593 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,593 INFO sqlalchemy.engine.Engine [cached since 0.007484s ago] (1, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.007484s ago] (1, 1, 0)
2025-07-20 19:36:21,594 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,594 INFO sqlalchemy.engine.Engine [cached since 0.01068s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 0.01068s ago] (1,)
2025-07-20 19:36:21,594 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,594 INFO sqlalchemy.engine.Engine [cached since 0.004853s ago] (1, '2025-07-17 00:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.004853s ago] (1, '2025-07-17 00:00:00.000000', 1, 0)
2025-07-20 19:36:21,595 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,595 INFO sqlalchemy.engine.Engine [generated in 0.00007s] (1,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00007s] (1,)
2025-07-20 19:36:21,595 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,596 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,596 INFO sqlalchemy.engine.Engine [generated in 0.00006s] (1, 20, 0)
INFO:sqlalchemy.engine.Engine:[generated in 0.00006s] (1, 20, 0)
INFO:     127.0.0.1:51545 - "GET /api/v1/stocks/1 HTTP/1.1" 200 OK
2025-07-20 19:36:21,597 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51543 - "GET /api/v1/stocks/1/prices?limit=20 HTTP/1.1" 200 OK
2025-07-20 19:36:21,599 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,599 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,599 INFO sqlalchemy.engine.Engine [cached since 1.48s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.48s ago] (1,)
INFO:     127.0.0.1:51545 - "OPTIONS /api/v1/stocks/12 HTTP/1.1" 200 OK
2025-07-20 19:36:21,599 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,599 INFO sqlalchemy.engine.Engine [cached since 0.01644s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 0.01644s ago] (1,)
2025-07-20 19:36:21,600 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,600 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,600 INFO sqlalchemy.engine.Engine [cached since 1.482s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.482s ago] (1,)
2025-07-20 19:36:21,600 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,600 INFO sqlalchemy.engine.Engine [cached since 0.005713s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 0.005713s ago] (1,)
2025-07-20 19:36:21,601 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,601 INFO sqlalchemy.engine.Engine [cached since 0.01772s ago] (12,)
INFO:sqlalchemy.engine.Engine:[cached since 0.01772s ago] (12,)
2025-07-20 19:36:21,601 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,601 INFO sqlalchemy.engine.Engine [cached since 0.01546s ago] (12, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.01546s ago] (12, 1, 0)
2025-07-20 19:36:21,601 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,602 INFO sqlalchemy.engine.Engine [cached since 0.005842s ago] (1, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.005842s ago] (1, 20, 0)
2025-07-20 19:36:21,602 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,602 INFO sqlalchemy.engine.Engine [cached since 0.0126s ago] (12, '2025-07-17 00:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.0126s ago] (12, '2025-07-17 00:00:00.000000', 1, 0)
2025-07-20 19:36:21,603 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,603 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51543 - "GET /api/v1/stocks/1/prices?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51542 - "GET /api/v1/stocks/12 HTTP/1.1" 200 OK
2025-07-20 19:36:21,604 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,604 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,604 INFO sqlalchemy.engine.Engine [cached since 1.486s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.486s ago] (1,)
INFO:     127.0.0.1:51543 - "OPTIONS /api/v1/stocks/12/prices?limit=20 HTTP/1.1" 200 OK
2025-07-20 19:36:21,605 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,605 INFO sqlalchemy.engine.Engine [cached since 0.02204s ago] (12,)
INFO:sqlalchemy.engine.Engine:[cached since 0.02204s ago] (12,)
2025-07-20 19:36:21,606 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,606 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,606 INFO sqlalchemy.engine.Engine [cached since 1.487s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.487s ago] (1,)
2025-07-20 19:36:21,606 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,606 INFO sqlalchemy.engine.Engine [cached since 0.02033s ago] (12, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.02033s ago] (12, 1, 0)
2025-07-20 19:36:21,607 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,607 INFO sqlalchemy.engine.Engine [cached since 0.02353s ago] (12,)
INFO:sqlalchemy.engine.Engine:[cached since 0.02353s ago] (12,)
2025-07-20 19:36:21,607 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,607 INFO sqlalchemy.engine.Engine [cached since 0.01753s ago] (12, '2025-07-17 00:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.01753s ago] (12, '2025-07-17 00:00:00.000000', 1, 0)
2025-07-20 19:36:21,607 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,607 INFO sqlalchemy.engine.Engine [cached since 0.01246s ago] (12,)
INFO:sqlalchemy.engine.Engine:[cached since 0.01246s ago] (12,)
2025-07-20 19:36:21,607 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,608 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,608 INFO sqlalchemy.engine.Engine [cached since 0.01211s ago] (12, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.01211s ago] (12, 20, 0)
INFO:     127.0.0.1:51542 - "GET /api/v1/stocks/12 HTTP/1.1" 200 OK
2025-07-20 19:36:21,608 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51545 - "GET /api/v1/stocks/12/prices?limit=20 HTTP/1.1" 200 OK
2025-07-20 19:36:21,609 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,609 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,609 INFO sqlalchemy.engine.Engine [cached since 1.491s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.491s ago] (1,)
INFO:     127.0.0.1:51542 - "OPTIONS /api/v1/stocks/5 HTTP/1.1" 200 OK
2025-07-20 19:36:21,610 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,610 INFO sqlalchemy.engine.Engine [cached since 0.02714s ago] (12,)
INFO:sqlalchemy.engine.Engine:[cached since 0.02714s ago] (12,)
2025-07-20 19:36:21,611 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,611 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,611 INFO sqlalchemy.engine.Engine [cached since 1.492s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.492s ago] (1,)
2025-07-20 19:36:21,611 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,611 INFO sqlalchemy.engine.Engine [cached since 0.0163s ago] (12,)
INFO:sqlalchemy.engine.Engine:[cached since 0.0163s ago] (12,)
2025-07-20 19:36:21,611 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,611 INFO sqlalchemy.engine.Engine [cached since 0.02827s ago] (5,)
INFO:sqlalchemy.engine.Engine:[cached since 0.02827s ago] (5,)
2025-07-20 19:36:21,612 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,612 INFO sqlalchemy.engine.Engine [cached since 0.01602s ago] (12, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.01602s ago] (12, 20, 0)
2025-07-20 19:36:21,612 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,612 INFO sqlalchemy.engine.Engine [cached since 0.02615s ago] (5, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.02615s ago] (5, 1, 0)
2025-07-20 19:36:21,612 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,613 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,613 INFO sqlalchemy.engine.Engine [cached since 0.02316s ago] (5, '2025-07-17 16:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.02316s ago] (5, '2025-07-17 16:00:00.000000', 1, 0)
INFO:     127.0.0.1:51545 - "GET /api/v1/stocks/12/prices?limit=20 HTTP/1.1" 200 OK
2025-07-20 19:36:21,613 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51543 - "GET /api/v1/stocks/5 HTTP/1.1" 200 OK
2025-07-20 19:36:21,615 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,615 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,615 INFO sqlalchemy.engine.Engine [cached since 1.496s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.496s ago] (1,)
INFO:     127.0.0.1:51545 - "OPTIONS /api/v1/stocks/5/prices?limit=20 HTTP/1.1" 200 OK
2025-07-20 19:36:21,615 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,615 INFO sqlalchemy.engine.Engine [cached since 0.03235s ago] (5,)
INFO:sqlalchemy.engine.Engine:[cached since 0.03235s ago] (5,)
2025-07-20 19:36:21,616 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,616 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,616 INFO sqlalchemy.engine.Engine [cached since 1.498s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.498s ago] (1,)
2025-07-20 19:36:21,616 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,616 INFO sqlalchemy.engine.Engine [cached since 0.03061s ago] (5, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.03061s ago] (5, 1, 0)
2025-07-20 19:36:21,617 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,617 INFO sqlalchemy.engine.Engine [cached since 0.03379s ago] (5,)
INFO:sqlalchemy.engine.Engine:[cached since 0.03379s ago] (5,)
2025-07-20 19:36:21,617 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,617 INFO sqlalchemy.engine.Engine [cached since 0.02778s ago] (5, '2025-07-17 16:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.02778s ago] (5, '2025-07-17 16:00:00.000000', 1, 0)
2025-07-20 19:36:21,617 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,618 INFO sqlalchemy.engine.Engine [cached since 0.02275s ago] (5,)
INFO:sqlalchemy.engine.Engine:[cached since 0.02275s ago] (5,)
2025-07-20 19:36:21,618 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,618 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,618 INFO sqlalchemy.engine.Engine [cached since 0.0224s ago] (5, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.0224s ago] (5, 20, 0)
INFO:     127.0.0.1:51543 - "GET /api/v1/stocks/5 HTTP/1.1" 200 OK
2025-07-20 19:36:21,619 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51542 - "GET /api/v1/stocks/5/prices?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51543 - "OPTIONS /api/v1/stocks/11 HTTP/1.1" 200 OK
2025-07-20 19:36:21,620 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,620 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,620 INFO sqlalchemy.engine.Engine [cached since 1.502s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.502s ago] (1,)
2025-07-20 19:36:21,620 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,620 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,621 INFO sqlalchemy.engine.Engine [cached since 1.502s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.502s ago] (1,)
2025-07-20 19:36:21,621 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,621 INFO sqlalchemy.engine.Engine [cached since 0.03791s ago] (5,)
INFO:sqlalchemy.engine.Engine:[cached since 0.03791s ago] (5,)
2025-07-20 19:36:21,621 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,621 INFO sqlalchemy.engine.Engine [cached since 0.03816s ago] (11,)
INFO:sqlalchemy.engine.Engine:[cached since 0.03816s ago] (11,)
2025-07-20 19:36:21,622 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,622 INFO sqlalchemy.engine.Engine [cached since 0.02678s ago] (5,)
INFO:sqlalchemy.engine.Engine:[cached since 0.02678s ago] (5,)
2025-07-20 19:36:21,622 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,622 INFO sqlalchemy.engine.Engine [cached since 0.03595s ago] (11, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.03595s ago] (11, 1, 0)
2025-07-20 19:36:21,622 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,622 INFO sqlalchemy.engine.Engine [cached since 0.02643s ago] (5, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.02643s ago] (5, 20, 0)
2025-07-20 19:36:21,622 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,622 INFO sqlalchemy.engine.Engine [cached since 0.03294s ago] (11, '2025-07-17 00:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.03294s ago] (11, '2025-07-17 00:00:00.000000', 1, 0)
2025-07-20 19:36:21,623 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,623 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51545 - "GET /api/v1/stocks/11 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51542 - "GET /api/v1/stocks/5/prices?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51542 - "OPTIONS /api/v1/stocks/11/prices?limit=20 HTTP/1.1" 200 OK
2025-07-20 19:36:21,625 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,625 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,625 INFO sqlalchemy.engine.Engine [cached since 1.506s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.506s ago] (1,)
2025-07-20 19:36:21,625 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,625 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,625 INFO sqlalchemy.engine.Engine [cached since 1.507s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.507s ago] (1,)
2025-07-20 19:36:21,625 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,625 INFO sqlalchemy.engine.Engine [cached since 0.04245s ago] (11,)
INFO:sqlalchemy.engine.Engine:[cached since 0.04245s ago] (11,)
2025-07-20 19:36:21,626 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,626 INFO sqlalchemy.engine.Engine [cached since 0.04282s ago] (11,)
INFO:sqlalchemy.engine.Engine:[cached since 0.04282s ago] (11,)
2025-07-20 19:36:21,626 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,626 INFO sqlalchemy.engine.Engine [cached since 0.04038s ago] (11, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.04038s ago] (11, 1, 0)
2025-07-20 19:36:21,626 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,626 INFO sqlalchemy.engine.Engine [cached since 0.0317s ago] (11,)
INFO:sqlalchemy.engine.Engine:[cached since 0.0317s ago] (11,)
2025-07-20 19:36:21,627 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,627 INFO sqlalchemy.engine.Engine [cached since 0.03746s ago] (11, '2025-07-17 00:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.03746s ago] (11, '2025-07-17 00:00:00.000000', 1, 0)
2025-07-20 19:36:21,627 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,627 INFO sqlalchemy.engine.Engine [cached since 0.03139s ago] (11, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.03139s ago] (11, 20, 0)
2025-07-20 19:36:21,627 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,627 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51545 - "GET /api/v1/stocks/11 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51543 - "GET /api/v1/stocks/11/prices?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51545 - "OPTIONS /api/v1/stocks/2 HTTP/1.1" 200 OK
2025-07-20 19:36:21,629 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,629 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,629 INFO sqlalchemy.engine.Engine [cached since 1.511s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.511s ago] (1,)
2025-07-20 19:36:21,629 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,630 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,630 INFO sqlalchemy.engine.Engine [cached since 1.511s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.511s ago] (1,)
2025-07-20 19:36:21,630 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,630 INFO sqlalchemy.engine.Engine [cached since 0.04692s ago] (11,)
INFO:sqlalchemy.engine.Engine:[cached since 0.04692s ago] (11,)
2025-07-20 19:36:21,630 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,630 INFO sqlalchemy.engine.Engine [cached since 0.0472s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 0.0472s ago] (2,)
2025-07-20 19:36:21,631 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,631 INFO sqlalchemy.engine.Engine [cached since 0.03591s ago] (11,)
INFO:sqlalchemy.engine.Engine:[cached since 0.03591s ago] (11,)
2025-07-20 19:36:21,631 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,631 INFO sqlalchemy.engine.Engine [cached since 0.04511s ago] (2, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.04511s ago] (2, 1, 0)
2025-07-20 19:36:21,631 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,631 INFO sqlalchemy.engine.Engine [cached since 0.03558s ago] (11, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.03558s ago] (11, 20, 0)
2025-07-20 19:36:21,632 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,632 INFO sqlalchemy.engine.Engine [cached since 0.04218s ago] (2, '2025-07-17 00:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.04218s ago] (2, '2025-07-17 00:00:00.000000', 1, 0)
2025-07-20 19:36:21,632 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,632 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51543 - "GET /api/v1/stocks/11/prices?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51542 - "GET /api/v1/stocks/2 HTTP/1.1" 200 OK
2025-07-20 19:36:21,633 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,633 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,633 INFO sqlalchemy.engine.Engine [cached since 1.515s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.515s ago] (1,)
INFO:     127.0.0.1:51543 - "OPTIONS /api/v1/stocks/2/prices?limit=20 HTTP/1.1" 200 OK
2025-07-20 19:36:21,634 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,634 INFO sqlalchemy.engine.Engine [cached since 0.05093s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 0.05093s ago] (2,)
2025-07-20 19:36:21,634 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,635 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,635 INFO sqlalchemy.engine.Engine [cached since 1.516s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.516s ago] (1,)
2025-07-20 19:36:21,635 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,635 INFO sqlalchemy.engine.Engine [cached since 0.04903s ago] (2, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.04903s ago] (2, 1, 0)
2025-07-20 19:36:21,635 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,635 INFO sqlalchemy.engine.Engine [cached since 0.05217s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 0.05217s ago] (2,)
2025-07-20 19:36:21,635 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,635 INFO sqlalchemy.engine.Engine [cached since 0.0461s ago] (2, '2025-07-17 00:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.0461s ago] (2, '2025-07-17 00:00:00.000000', 1, 0)
2025-07-20 19:36:21,636 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,636 INFO sqlalchemy.engine.Engine [cached since 0.04107s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 0.04107s ago] (2,)
2025-07-20 19:36:21,636 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,636 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,636 INFO sqlalchemy.engine.Engine [cached since 0.04065s ago] (2, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.04065s ago] (2, 20, 0)
INFO:     127.0.0.1:51542 - "GET /api/v1/stocks/2 HTTP/1.1" 200 OK
2025-07-20 19:36:21,637 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51545 - "GET /api/v1/stocks/2/prices?limit=20 HTTP/1.1" 200 OK
2025-07-20 19:36:21,638 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,638 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,638 INFO sqlalchemy.engine.Engine [cached since 1.52s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.52s ago] (1,)
INFO:     127.0.0.1:51542 - "OPTIONS /api/v1/stocks/10 HTTP/1.1" 200 OK
2025-07-20 19:36:21,639 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,639 INFO sqlalchemy.engine.Engine [cached since 0.05552s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 0.05552s ago] (2,)
2025-07-20 19:36:21,639 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,639 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,639 INFO sqlalchemy.engine.Engine [cached since 1.521s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.521s ago] (1,)
2025-07-20 19:36:21,639 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,639 INFO sqlalchemy.engine.Engine [cached since 0.04461s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 0.04461s ago] (2,)
2025-07-20 19:36:21,640 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,640 INFO sqlalchemy.engine.Engine [cached since 0.05656s ago] (10,)
INFO:sqlalchemy.engine.Engine:[cached since 0.05656s ago] (10,)
2025-07-20 19:36:21,640 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,640 INFO sqlalchemy.engine.Engine [cached since 0.0443s ago] (2, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.0443s ago] (2, 20, 0)
2025-07-20 19:36:21,640 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,640 INFO sqlalchemy.engine.Engine [cached since 0.05432s ago] (10, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.05432s ago] (10, 1, 0)
2025-07-20 19:36:21,641 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,641 INFO sqlalchemy.engine.Engine [cached since 0.05122s ago] (10, '2025-07-17 00:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.05122s ago] (10, '2025-07-17 00:00:00.000000', 1, 0)
2025-07-20 19:36:21,641 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,641 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51545 - "GET /api/v1/stocks/2/prices?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51543 - "GET /api/v1/stocks/10 HTTP/1.1" 200 OK
2025-07-20 19:36:21,642 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,642 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,642 INFO sqlalchemy.engine.Engine [cached since 1.524s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.524s ago] (1,)
INFO:     127.0.0.1:51545 - "OPTIONS /api/v1/stocks/10/prices?limit=20 HTTP/1.1" 200 OK
2025-07-20 19:36:21,643 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,643 INFO sqlalchemy.engine.Engine [cached since 0.05981s ago] (10,)
INFO:sqlalchemy.engine.Engine:[cached since 0.05981s ago] (10,)
2025-07-20 19:36:21,643 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,643 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,643 INFO sqlalchemy.engine.Engine [cached since 1.525s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.525s ago] (1,)
2025-07-20 19:36:21,644 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,644 INFO sqlalchemy.engine.Engine [cached since 0.05791s ago] (10, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.05791s ago] (10, 1, 0)
2025-07-20 19:36:21,644 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,644 INFO sqlalchemy.engine.Engine [cached since 0.06104s ago] (10,)
INFO:sqlalchemy.engine.Engine:[cached since 0.06104s ago] (10,)
2025-07-20 19:36:21,644 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,644 INFO sqlalchemy.engine.Engine [cached since 0.05496s ago] (10, '2025-07-17 00:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.05496s ago] (10, '2025-07-17 00:00:00.000000', 1, 0)
2025-07-20 19:36:21,645 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,645 INFO sqlalchemy.engine.Engine [cached since 0.04994s ago] (10,)
INFO:sqlalchemy.engine.Engine:[cached since 0.04994s ago] (10,)
2025-07-20 19:36:21,645 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,645 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,645 INFO sqlalchemy.engine.Engine [cached since 0.04958s ago] (10, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.04958s ago] (10, 20, 0)
INFO:     127.0.0.1:51543 - "GET /api/v1/stocks/10 HTTP/1.1" 200 OK
2025-07-20 19:36:21,646 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51542 - "GET /api/v1/stocks/10/prices?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51543 - "OPTIONS /api/v1/stocks/7 HTTP/1.1" 200 OK
2025-07-20 19:36:21,647 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,648 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,648 INFO sqlalchemy.engine.Engine [cached since 1.529s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.529s ago] (1,)
2025-07-20 19:36:21,648 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,648 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,648 INFO sqlalchemy.engine.Engine [cached since 1.529s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.529s ago] (1,)
2025-07-20 19:36:21,648 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,648 INFO sqlalchemy.engine.Engine [cached since 0.06532s ago] (10,)
INFO:sqlalchemy.engine.Engine:[cached since 0.06532s ago] (10,)
2025-07-20 19:36:21,649 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,649 INFO sqlalchemy.engine.Engine [cached since 0.06553s ago] (7,)
INFO:sqlalchemy.engine.Engine:[cached since 0.06553s ago] (7,)
2025-07-20 19:36:21,649 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,649 INFO sqlalchemy.engine.Engine [cached since 0.05416s ago] (10,)
INFO:sqlalchemy.engine.Engine:[cached since 0.05416s ago] (10,)
2025-07-20 19:36:21,649 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,649 INFO sqlalchemy.engine.Engine [cached since 0.06335s ago] (7, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.06335s ago] (7, 1, 0)
2025-07-20 19:36:21,649 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,650 INFO sqlalchemy.engine.Engine [cached since 0.05384s ago] (10, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.05384s ago] (10, 20, 0)
2025-07-20 19:36:21,650 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,650 INFO sqlalchemy.engine.Engine [cached since 0.06034s ago] (7, '2025-07-17 00:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.06034s ago] (7, '2025-07-17 00:00:00.000000', 1, 0)
2025-07-20 19:36:21,650 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,650 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51542 - "GET /api/v1/stocks/10/prices?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51545 - "GET /api/v1/stocks/7 HTTP/1.1" 200 OK
2025-07-20 19:36:21,651 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,651 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,651 INFO sqlalchemy.engine.Engine [cached since 1.533s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.533s ago] (1,)
INFO:     127.0.0.1:51542 - "OPTIONS /api/v1/stocks/7/prices?limit=20 HTTP/1.1" 200 OK
2025-07-20 19:36:21,652 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,652 INFO sqlalchemy.engine.Engine [cached since 0.06901s ago] (7,)
INFO:sqlalchemy.engine.Engine:[cached since 0.06901s ago] (7,)
2025-07-20 19:36:21,653 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,653 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,653 INFO sqlalchemy.engine.Engine [cached since 1.534s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.534s ago] (1,)
2025-07-20 19:36:21,653 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,653 INFO sqlalchemy.engine.Engine [cached since 0.0671s ago] (7, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.0671s ago] (7, 1, 0)
2025-07-20 19:36:21,653 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,653 INFO sqlalchemy.engine.Engine [cached since 0.0702s ago] (7,)
INFO:sqlalchemy.engine.Engine:[cached since 0.0702s ago] (7,)
2025-07-20 19:36:21,653 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,653 INFO sqlalchemy.engine.Engine [cached since 0.06412s ago] (7, '2025-07-17 00:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.06412s ago] (7, '2025-07-17 00:00:00.000000', 1, 0)
2025-07-20 19:36:21,654 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,654 INFO sqlalchemy.engine.Engine [cached since 0.05904s ago] (7,)
INFO:sqlalchemy.engine.Engine:[cached since 0.05904s ago] (7,)
2025-07-20 19:36:21,654 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,654 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,654 INFO sqlalchemy.engine.Engine [cached since 0.05859s ago] (7, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.05859s ago] (7, 20, 0)
INFO:     127.0.0.1:51545 - "GET /api/v1/stocks/7 HTTP/1.1" 200 OK
2025-07-20 19:36:21,655 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51543 - "GET /api/v1/stocks/7/prices?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51545 - "OPTIONS /api/v1/stocks/3 HTTP/1.1" 200 OK
2025-07-20 19:36:21,656 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,656 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,656 INFO sqlalchemy.engine.Engine [cached since 1.538s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.538s ago] (1,)
2025-07-20 19:36:21,656 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,656 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,656 INFO sqlalchemy.engine.Engine [cached since 1.538s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.538s ago] (1,)
2025-07-20 19:36:21,657 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,657 INFO sqlalchemy.engine.Engine [cached since 0.07388s ago] (7,)
INFO:sqlalchemy.engine.Engine:[cached since 0.07388s ago] (7,)
2025-07-20 19:36:21,657 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,657 INFO sqlalchemy.engine.Engine [cached since 0.07415s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 0.07415s ago] (3,)
2025-07-20 19:36:21,658 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,658 INFO sqlalchemy.engine.Engine [cached since 0.06277s ago] (7,)
INFO:sqlalchemy.engine.Engine:[cached since 0.06277s ago] (7,)
2025-07-20 19:36:21,658 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,658 INFO sqlalchemy.engine.Engine [cached since 0.07196s ago] (3, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.07196s ago] (3, 1, 0)
2025-07-20 19:36:21,658 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,658 INFO sqlalchemy.engine.Engine [cached since 0.06244s ago] (7, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.06244s ago] (7, 20, 0)
2025-07-20 19:36:21,658 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,658 INFO sqlalchemy.engine.Engine [cached since 0.06901s ago] (3, '2025-07-17 00:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.06901s ago] (3, '2025-07-17 00:00:00.000000', 1, 0)
2025-07-20 19:36:21,659 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,659 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51543 - "GET /api/v1/stocks/7/prices?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51542 - "GET /api/v1/stocks/3 HTTP/1.1" 200 OK
2025-07-20 19:36:21,660 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,660 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,660 INFO sqlalchemy.engine.Engine [cached since 1.542s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.542s ago] (1,)
INFO:     127.0.0.1:51543 - "OPTIONS /api/v1/stocks/3/prices?limit=20 HTTP/1.1" 200 OK
2025-07-20 19:36:21,661 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,661 INFO sqlalchemy.engine.Engine [cached since 0.07758s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 0.07758s ago] (3,)
2025-07-20 19:36:21,661 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,661 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,661 INFO sqlalchemy.engine.Engine [cached since 1.543s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.543s ago] (1,)
2025-07-20 19:36:21,661 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,662 INFO sqlalchemy.engine.Engine [cached since 0.07568s ago] (3, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.07568s ago] (3, 1, 0)
2025-07-20 19:36:21,662 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,662 INFO sqlalchemy.engine.Engine [cached since 0.07879s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 0.07879s ago] (3,)
2025-07-20 19:36:21,662 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,662 INFO sqlalchemy.engine.Engine [cached since 0.07272s ago] (3, '2025-07-17 00:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.07272s ago] (3, '2025-07-17 00:00:00.000000', 1, 0)
2025-07-20 19:36:21,662 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,663 INFO sqlalchemy.engine.Engine [cached since 0.06773s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 0.06773s ago] (3,)
2025-07-20 19:36:21,663 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51542 - "GET /api/v1/stocks/3 HTTP/1.1" 200 OK
2025-07-20 19:36:21,663 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,663 INFO sqlalchemy.engine.Engine [cached since 0.0676s ago] (3, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.0676s ago] (3, 20, 0)
2025-07-20 19:36:21,664 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51545 - "GET /api/v1/stocks/3/prices?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51542 - "OPTIONS /api/v1/stocks/8 HTTP/1.1" 200 OK
2025-07-20 19:36:21,665 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,665 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,665 INFO sqlalchemy.engine.Engine [cached since 1.547s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.547s ago] (1,)
2025-07-20 19:36:21,665 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,665 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,665 INFO sqlalchemy.engine.Engine [cached since 1.547s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.547s ago] (1,)
2025-07-20 19:36:21,666 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,666 INFO sqlalchemy.engine.Engine [cached since 0.08276s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 0.08276s ago] (3,)
2025-07-20 19:36:21,666 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,666 INFO sqlalchemy.engine.Engine [cached since 0.08296s ago] (8,)
INFO:sqlalchemy.engine.Engine:[cached since 0.08296s ago] (8,)
2025-07-20 19:36:21,666 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,666 INFO sqlalchemy.engine.Engine [cached since 0.07168s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 0.07168s ago] (3,)
2025-07-20 19:36:21,667 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,667 INFO sqlalchemy.engine.Engine [cached since 0.08085s ago] (8, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.08085s ago] (8, 1, 0)
2025-07-20 19:36:21,667 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,667 INFO sqlalchemy.engine.Engine [cached since 0.07132s ago] (3, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.07132s ago] (3, 20, 0)
2025-07-20 19:36:21,667 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,667 INFO sqlalchemy.engine.Engine [cached since 0.0778s ago] (8, '2025-07-17 00:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.0778s ago] (8, '2025-07-17 00:00:00.000000', 1, 0)
2025-07-20 19:36:21,668 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,668 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51543 - "GET /api/v1/stocks/8 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51545 - "GET /api/v1/stocks/3/prices?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51545 - "OPTIONS /api/v1/stocks/8/prices?limit=20 HTTP/1.1" 200 OK
2025-07-20 19:36:21,669 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,669 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,669 INFO sqlalchemy.engine.Engine [cached since 1.551s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.551s ago] (1,)
2025-07-20 19:36:21,670 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,670 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,670 INFO sqlalchemy.engine.Engine [cached since 1.551s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.551s ago] (1,)
2025-07-20 19:36:21,670 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,670 INFO sqlalchemy.engine.Engine [cached since 0.08708s ago] (8,)
INFO:sqlalchemy.engine.Engine:[cached since 0.08708s ago] (8,)
2025-07-20 19:36:21,670 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,670 INFO sqlalchemy.engine.Engine [cached since 0.08744s ago] (8,)
INFO:sqlalchemy.engine.Engine:[cached since 0.08744s ago] (8,)
2025-07-20 19:36:21,671 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,671 INFO sqlalchemy.engine.Engine [cached since 0.08493s ago] (8, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.08493s ago] (8, 1, 0)
2025-07-20 19:36:21,671 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,671 INFO sqlalchemy.engine.Engine [cached since 0.07631s ago] (8,)
INFO:sqlalchemy.engine.Engine:[cached since 0.07631s ago] (8,)
2025-07-20 19:36:21,671 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,671 INFO sqlalchemy.engine.Engine [cached since 0.08201s ago] (8, '2025-07-17 00:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.08201s ago] (8, '2025-07-17 00:00:00.000000', 1, 0)
2025-07-20 19:36:21,672 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,672 INFO sqlalchemy.engine.Engine [cached since 0.07603s ago] (8, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.07603s ago] (8, 20, 0)
2025-07-20 19:36:21,672 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,672 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51543 - "GET /api/v1/stocks/8 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51542 - "GET /api/v1/stocks/8/prices?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51543 - "OPTIONS /api/v1/stocks/6 HTTP/1.1" 200 OK
2025-07-20 19:36:21,674 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,674 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,674 INFO sqlalchemy.engine.Engine [cached since 1.555s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.555s ago] (1,)
2025-07-20 19:36:21,674 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,674 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,674 INFO sqlalchemy.engine.Engine [cached since 1.556s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.556s ago] (1,)
2025-07-20 19:36:21,675 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,675 INFO sqlalchemy.engine.Engine [cached since 0.09166s ago] (8,)
INFO:sqlalchemy.engine.Engine:[cached since 0.09166s ago] (8,)
2025-07-20 19:36:21,675 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,675 INFO sqlalchemy.engine.Engine [cached since 0.09188s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 0.09188s ago] (6,)
2025-07-20 19:36:21,675 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,675 INFO sqlalchemy.engine.Engine [cached since 0.08053s ago] (8,)
INFO:sqlalchemy.engine.Engine:[cached since 0.08053s ago] (8,)
2025-07-20 19:36:21,676 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,676 INFO sqlalchemy.engine.Engine [cached since 0.08969s ago] (6, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.08969s ago] (6, 1, 0)
2025-07-20 19:36:21,676 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,676 INFO sqlalchemy.engine.Engine [cached since 0.08015s ago] (8, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.08015s ago] (8, 20, 0)
2025-07-20 19:36:21,676 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,676 INFO sqlalchemy.engine.Engine [cached since 0.08664s ago] (6, '2025-07-17 00:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.08664s ago] (6, '2025-07-17 00:00:00.000000', 1, 0)
2025-07-20 19:36:21,676 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,676 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51542 - "GET /api/v1/stocks/8/prices?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51545 - "GET /api/v1/stocks/6 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51542 - "OPTIONS /api/v1/stocks/6/prices?limit=20 HTTP/1.1" 200 OK
2025-07-20 19:36:21,678 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,678 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,678 INFO sqlalchemy.engine.Engine [cached since 1.56s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.56s ago] (1,)
2025-07-20 19:36:21,679 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,679 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,679 INFO sqlalchemy.engine.Engine [cached since 1.56s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.56s ago] (1,)
2025-07-20 19:36:21,679 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,679 INFO sqlalchemy.engine.Engine [cached since 0.09601s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 0.09601s ago] (6,)
2025-07-20 19:36:21,679 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,679 INFO sqlalchemy.engine.Engine [cached since 0.09639s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 0.09639s ago] (6,)
2025-07-20 19:36:21,680 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,680 INFO sqlalchemy.engine.Engine [cached since 0.09404s ago] (6, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.09404s ago] (6, 1, 0)
2025-07-20 19:36:21,680 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,680 INFO sqlalchemy.engine.Engine [cached since 0.08546s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 0.08546s ago] (6,)
2025-07-20 19:36:21,681 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,681 INFO sqlalchemy.engine.Engine [cached since 0.09122s ago] (6, '2025-07-17 00:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.09122s ago] (6, '2025-07-17 00:00:00.000000', 1, 0)
2025-07-20 19:36:21,681 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,681 INFO sqlalchemy.engine.Engine [cached since 0.0852s ago] (6, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.0852s ago] (6, 20, 0)
2025-07-20 19:36:21,681 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,681 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51545 - "GET /api/v1/stocks/6 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51543 - "GET /api/v1/stocks/6/prices?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51545 - "OPTIONS /api/v1/stocks/9 HTTP/1.1" 200 OK
2025-07-20 19:36:21,683 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,683 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,683 INFO sqlalchemy.engine.Engine [cached since 1.565s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.565s ago] (1,)
2025-07-20 19:36:21,683 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,683 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,684 INFO sqlalchemy.engine.Engine [cached since 1.565s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.565s ago] (1,)
2025-07-20 19:36:21,684 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,684 INFO sqlalchemy.engine.Engine [cached since 0.1009s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 0.1009s ago] (6,)
2025-07-20 19:36:21,684 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,684 INFO sqlalchemy.engine.Engine [cached since 0.1011s ago] (9,)
INFO:sqlalchemy.engine.Engine:[cached since 0.1011s ago] (9,)
2025-07-20 19:36:21,684 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,684 INFO sqlalchemy.engine.Engine [cached since 0.08969s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 0.08969s ago] (6,)
2025-07-20 19:36:21,685 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,685 INFO sqlalchemy.engine.Engine [cached since 0.09886s ago] (9, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.09886s ago] (9, 1, 0)
2025-07-20 19:36:21,685 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,685 INFO sqlalchemy.engine.Engine [cached since 0.08933s ago] (6, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.08933s ago] (6, 20, 0)
2025-07-20 19:36:21,685 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,685 INFO sqlalchemy.engine.Engine [cached since 0.09583s ago] (9, '2025-07-17 00:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.09583s ago] (9, '2025-07-17 00:00:00.000000', 1, 0)
2025-07-20 19:36:21,686 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,686 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51543 - "GET /api/v1/stocks/6/prices?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51542 - "GET /api/v1/stocks/9 HTTP/1.1" 200 OK
2025-07-20 19:36:21,687 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,687 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,687 INFO sqlalchemy.engine.Engine [cached since 1.569s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.569s ago] (1,)
INFO:     127.0.0.1:51543 - "OPTIONS /api/v1/stocks/9/prices?limit=20 HTTP/1.1" 200 OK
2025-07-20 19:36:21,688 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,688 INFO sqlalchemy.engine.Engine [cached since 0.1045s ago] (9,)
INFO:sqlalchemy.engine.Engine:[cached since 0.1045s ago] (9,)
2025-07-20 19:36:21,688 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,688 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,688 INFO sqlalchemy.engine.Engine [cached since 1.57s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.57s ago] (1,)
2025-07-20 19:36:21,688 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,688 INFO sqlalchemy.engine.Engine [cached since 0.1026s ago] (9, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.1026s ago] (9, 1, 0)
2025-07-20 19:36:21,689 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,689 INFO sqlalchemy.engine.Engine [cached since 0.1058s ago] (9,)
INFO:sqlalchemy.engine.Engine:[cached since 0.1058s ago] (9,)
2025-07-20 19:36:21,689 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,689 INFO sqlalchemy.engine.Engine [cached since 0.09969s ago] (9, '2025-07-17 00:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.09969s ago] (9, '2025-07-17 00:00:00.000000', 1, 0)
2025-07-20 19:36:21,689 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,689 INFO sqlalchemy.engine.Engine [cached since 0.09462s ago] (9,)
INFO:sqlalchemy.engine.Engine:[cached since 0.09462s ago] (9,)
2025-07-20 19:36:21,690 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,690 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,690 INFO sqlalchemy.engine.Engine [cached since 0.09418s ago] (9, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.09418s ago] (9, 20, 0)
INFO:     127.0.0.1:51542 - "GET /api/v1/stocks/9 HTTP/1.1" 200 OK
2025-07-20 19:36:21,690 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51545 - "GET /api/v1/stocks/9/prices?limit=20 HTTP/1.1" 200 OK
2025-07-20 19:36:21,691 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,691 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,691 INFO sqlalchemy.engine.Engine [cached since 1.573s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.573s ago] (1,)
INFO:     127.0.0.1:51542 - "OPTIONS /api/v1/stocks/13 HTTP/1.1" 200 OK
2025-07-20 19:36:21,692 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,692 INFO sqlalchemy.engine.Engine [cached since 0.1089s ago] (9,)
INFO:sqlalchemy.engine.Engine:[cached since 0.1089s ago] (9,)
2025-07-20 19:36:21,692 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,692 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,692 INFO sqlalchemy.engine.Engine [cached since 1.574s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.574s ago] (1,)
2025-07-20 19:36:21,693 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,693 INFO sqlalchemy.engine.Engine [cached since 0.09794s ago] (9,)
INFO:sqlalchemy.engine.Engine:[cached since 0.09794s ago] (9,)
2025-07-20 19:36:21,693 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,693 INFO sqlalchemy.engine.Engine [cached since 0.1099s ago] (13,)
INFO:sqlalchemy.engine.Engine:[cached since 0.1099s ago] (13,)
2025-07-20 19:36:21,693 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,693 INFO sqlalchemy.engine.Engine [cached since 0.09757s ago] (9, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.09757s ago] (9, 20, 0)
2025-07-20 19:36:21,693 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,693 INFO sqlalchemy.engine.Engine [cached since 0.1076s ago] (13, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.1076s ago] (13, 1, 0)
2025-07-20 19:36:21,694 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,694 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,694 INFO sqlalchemy.engine.Engine [cached since 0.1045s ago] (13, '2025-07-17 00:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.1045s ago] (13, '2025-07-17 00:00:00.000000', 1, 0)
INFO:     127.0.0.1:51545 - "GET /api/v1/stocks/9/prices?limit=20 HTTP/1.1" 200 OK
2025-07-20 19:36:21,694 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51543 - "GET /api/v1/stocks/13 HTTP/1.1" 200 OK
2025-07-20 19:36:21,695 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,695 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,695 INFO sqlalchemy.engine.Engine [cached since 1.577s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.577s ago] (1,)
INFO:     127.0.0.1:51545 - "OPTIONS /api/v1/stocks/13/prices?limit=20 HTTP/1.1" 200 OK
2025-07-20 19:36:21,696 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,696 INFO sqlalchemy.engine.Engine [cached since 0.1132s ago] (13,)
INFO:sqlalchemy.engine.Engine:[cached since 0.1132s ago] (13,)
2025-07-20 19:36:21,697 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,697 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,697 INFO sqlalchemy.engine.Engine [cached since 1.578s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.578s ago] (1,)
2025-07-20 19:36:21,697 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,697 INFO sqlalchemy.engine.Engine [cached since 0.1112s ago] (13, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.1112s ago] (13, 1, 0)
2025-07-20 19:36:21,697 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,697 INFO sqlalchemy.engine.Engine [cached since 0.1143s ago] (13,)
INFO:sqlalchemy.engine.Engine:[cached since 0.1143s ago] (13,)
2025-07-20 19:36:21,698 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,698 INFO sqlalchemy.engine.Engine [cached since 0.1083s ago] (13, '2025-07-17 00:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.1083s ago] (13, '2025-07-17 00:00:00.000000', 1, 0)
2025-07-20 19:36:21,698 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,698 INFO sqlalchemy.engine.Engine [cached since 0.1033s ago] (13,)
INFO:sqlalchemy.engine.Engine:[cached since 0.1033s ago] (13,)
2025-07-20 19:36:21,698 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,698 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,699 INFO sqlalchemy.engine.Engine [cached since 0.1029s ago] (13, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.1029s ago] (13, 20, 0)
INFO:     127.0.0.1:51543 - "GET /api/v1/stocks/13 HTTP/1.1" 200 OK
2025-07-20 19:36:21,699 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51542 - "GET /api/v1/stocks/13/prices?limit=20 HTTP/1.1" 200 OK
2025-07-20 19:36:21,700 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,700 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,700 INFO sqlalchemy.engine.Engine [cached since 1.582s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.582s ago] (1,)
INFO:     127.0.0.1:51543 - "OPTIONS /api/v1/stocks/4 HTTP/1.1" 200 OK
2025-07-20 19:36:21,701 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,701 INFO sqlalchemy.engine.Engine [cached since 0.1176s ago] (13,)
INFO:sqlalchemy.engine.Engine:[cached since 0.1176s ago] (13,)
2025-07-20 19:36:21,701 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,701 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,701 INFO sqlalchemy.engine.Engine [cached since 1.583s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.583s ago] (1,)
2025-07-20 19:36:21,701 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,701 INFO sqlalchemy.engine.Engine [cached since 0.1066s ago] (13,)
INFO:sqlalchemy.engine.Engine:[cached since 0.1066s ago] (13,)
2025-07-20 19:36:21,702 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,702 INFO sqlalchemy.engine.Engine [cached since 0.1186s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 0.1186s ago] (4,)
2025-07-20 19:36:21,702 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,702 INFO sqlalchemy.engine.Engine [cached since 0.1062s ago] (13, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.1062s ago] (13, 20, 0)
2025-07-20 19:36:21,702 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,702 INFO sqlalchemy.engine.Engine [cached since 0.1163s ago] (4, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.1163s ago] (4, 1, 0)
2025-07-20 19:36:21,702 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,703 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,703 INFO sqlalchemy.engine.Engine [cached since 0.1133s ago] (4, '2025-07-17 16:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.1133s ago] (4, '2025-07-17 16:00:00.000000', 1, 0)
INFO:     127.0.0.1:51542 - "GET /api/v1/stocks/13/prices?limit=20 HTTP/1.1" 200 OK
2025-07-20 19:36:21,703 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51545 - "GET /api/v1/stocks/4 HTTP/1.1" 200 OK
2025-07-20 19:36:21,704 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,704 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,704 INFO sqlalchemy.engine.Engine [cached since 1.586s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.586s ago] (1,)
INFO:     127.0.0.1:51542 - "OPTIONS /api/v1/stocks/4/prices?limit=20 HTTP/1.1" 200 OK
2025-07-20 19:36:21,705 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,705 INFO sqlalchemy.engine.Engine [cached since 0.1215s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 0.1215s ago] (4,)
2025-07-20 19:36:21,705 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,705 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,705 INFO sqlalchemy.engine.Engine [cached since 1.587s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.587s ago] (1,)
2025-07-20 19:36:21,705 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,705 INFO sqlalchemy.engine.Engine [cached since 0.1196s ago] (4, 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.1196s ago] (4, 1, 0)
2025-07-20 19:36:21,706 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,706 INFO sqlalchemy.engine.Engine [cached since 0.1227s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 0.1227s ago] (4,)
2025-07-20 19:36:21,706 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? AND stock_prices.date <= ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,706 INFO sqlalchemy.engine.Engine [cached since 0.1167s ago] (4, '2025-07-17 16:00:00.000000', 1, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.1167s ago] (4, '2025-07-17 16:00:00.000000', 1, 0)
2025-07-20 19:36:21,706 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,706 INFO sqlalchemy.engine.Engine [cached since 0.1116s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 0.1116s ago] (4,)
2025-07-20 19:36:21,707 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-20 19:36:21,707 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,707 INFO sqlalchemy.engine.Engine [cached since 0.1111s ago] (4, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.1111s ago] (4, 20, 0)
INFO:     127.0.0.1:51545 - "GET /api/v1/stocks/4 HTTP/1.1" 200 OK
2025-07-20 19:36:21,707 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51543 - "GET /api/v1/stocks/4/prices?limit=20 HTTP/1.1" 200 OK
2025-07-20 19:36:21,708 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:21,708 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:21,708 INFO sqlalchemy.engine.Engine [cached since 1.59s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.59s ago] (1,)
2025-07-20 19:36:21,709 INFO sqlalchemy.engine.Engine SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
INFO:sqlalchemy.engine.Engine:SELECT stocks.id, stocks.symbol, stocks.name, stocks.exchange, stocks.sector, stocks.industry, stocks.market_cap, stocks.is_active, stocks.created_at, stocks.updated_at 
FROM stocks 
WHERE stocks.id = ?
2025-07-20 19:36:21,709 INFO sqlalchemy.engine.Engine [cached since 0.1258s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 0.1258s ago] (4,)
2025-07-20 19:36:21,709 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM stock_prices 
WHERE stock_prices.stock_id = ?
2025-07-20 19:36:21,709 INFO sqlalchemy.engine.Engine [cached since 0.1144s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 0.1144s ago] (4,)
2025-07-20 19:36:21,709 INFO sqlalchemy.engine.Engine SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT stock_prices.id, stock_prices.stock_id, stock_prices.date, stock_prices.open, stock_prices.high, stock_prices.low, stock_prices.close, stock_prices.volume, stock_prices.adjusted_close, stock_prices.created_at 
FROM stock_prices 
WHERE stock_prices.stock_id = ? ORDER BY stock_prices.date DESC
 LIMIT ? OFFSET ?
2025-07-20 19:36:21,709 INFO sqlalchemy.engine.Engine [cached since 0.1138s ago] (4, 20, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.1138s ago] (4, 20, 0)
2025-07-20 19:36:21,710 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51543 - "GET /api/v1/stocks/4/prices?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51558 - "OPTIONS /api/v1/companies/?skip=0&limit=100 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51559 - "OPTIONS /api/v1/companies/?skip=0&limit=100 HTTP/1.1" 200 OK
2025-07-20 19:36:37,147 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:37,148 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:37,148 INFO sqlalchemy.engine.Engine [cached since 17.03s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 17.03s ago] (1,)
2025-07-20 19:36:37,149 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM companies
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM companies
2025-07-20 19:36:37,149 INFO sqlalchemy.engine.Engine [generated in 0.00011s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00011s] ()
2025-07-20 19:36:37,151 INFO sqlalchemy.engine.Engine SELECT companies.id, companies.stock_id, companies.company_name, companies.legal_name, companies.ticker_symbol, companies.exchange, companies.country, companies.currency, companies.business_summary, companies.website, companies.industry, companies.sector, companies.full_time_employees, companies.address1, companies.address2, companies.city, companies.state, companies.zip_code, companies.phone, companies.fax, companies.created_at, companies.updated_at 
FROM companies ORDER BY companies.company_name
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT companies.id, companies.stock_id, companies.company_name, companies.legal_name, companies.ticker_symbol, companies.exchange, companies.country, companies.currency, companies.business_summary, companies.website, companies.industry, companies.sector, companies.full_time_employees, companies.address1, companies.address2, companies.city, companies.state, companies.zip_code, companies.phone, companies.fax, companies.created_at, companies.updated_at 
FROM companies ORDER BY companies.company_name
 LIMIT ? OFFSET ?
2025-07-20 19:36:37,151 INFO sqlalchemy.engine.Engine [generated in 0.00012s] (100, 0)
INFO:sqlalchemy.engine.Engine:[generated in 0.00012s] (100, 0)
2025-07-20 19:36:37,152 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51558 - "GET /api/v1/companies/?skip=0&limit=100 HTTP/1.1" 200 OK
2025-07-20 19:36:37,153 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 19:36:37,153 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2025-07-20 19:36:37,153 INFO sqlalchemy.engine.Engine [cached since 17.03s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 17.03s ago] (1,)
2025-07-20 19:36:37,154 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM companies
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM companies
2025-07-20 19:36:37,154 INFO sqlalchemy.engine.Engine [cached since 0.004918s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.004918s ago] ()
2025-07-20 19:36:37,154 INFO sqlalchemy.engine.Engine SELECT companies.id, companies.stock_id, companies.company_name, companies.legal_name, companies.ticker_symbol, companies.exchange, companies.country, companies.currency, companies.business_summary, companies.website, companies.industry, companies.sector, companies.full_time_employees, companies.address1, companies.address2, companies.city, companies.state, companies.zip_code, companies.phone, companies.fax, companies.created_at, companies.updated_at 
FROM companies ORDER BY companies.company_name
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT companies.id, companies.stock_id, companies.company_name, companies.legal_name, companies.ticker_symbol, companies.exchange, companies.country, companies.currency, companies.business_summary, companies.website, companies.industry, companies.sector, companies.full_time_employees, companies.address1, companies.address2, companies.city, companies.state, companies.zip_code, companies.phone, companies.fax, companies.created_at, companies.updated_at 
FROM companies ORDER BY companies.company_name
 LIMIT ? OFFSET ?
2025-07-20 19:36:37,154 INFO sqlalchemy.engine.Engine [cached since 0.003648s ago] (100, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.003648s ago] (100, 0)
2025-07-20 19:36:37,155 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51558 - "GET /api/v1/companies/?skip=0&limit=100 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52332 - "OPTIONS /api/v1/stocks/?limit=100 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52333 - "OPTIONS /api/v1/stocks/?limit=100 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52332 - "GET /api/v1/stocks/?limit=100 HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:52333 - "GET /api/v1/stocks/?limit=100 HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:52335 - "OPTIONS /api/v1/auth/login HTTP/1.1" 200 OK
2025-07-20 21:41:34,541 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-20 21:41:34,542 INFO sqlalchemy.engine.Engine SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.username = ? OR users.email = ?
INFO:sqlalchemy.engine.Engine:SELECT users.id, users.email, users.username, users.hashed_password, users.full_name, users.is_active, users.is_superuser, users.created_at, users.updated_at 
FROM users 
WHERE users.username = ? OR users.email = ?
2025-07-20 21:41:34,542 INFO sqlalchemy.engine.Engine [cached since 650.2s ago] ('admin', 'admin')
INFO:sqlalchemy.engine.Engine:[cached since 650.2s ago] ('admin', 'admin')
2025-07-20 21:41:34,788 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:52335 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
